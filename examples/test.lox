fun makeCounter() {
    var i = 0;

    var counter = fun () {
       i = i + 1;
       return i;
   };

   return counter;
}

var counter = makeCounter();

for var i = counter(); i < 10; i = counter() {
    print i;
    if i == 2 {
        print "finished";
        break;
    }
}