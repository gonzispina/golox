class fibonacci {
    init() {
        this.cur = 0;
        this.prev = 0;
    }

    next() {
        // lambda expression.
        return fun () {
            if this.cur == 0 {
                this.cur = 1;
                return 0;
            }


            var res = this.cur;
            this.cur = this.cur + this.prev;
            this.prev = res;

            return res;
        }
    }
}


var fib = fibonacci();
for var i = 0; i < 10; i = i + 1 {
    print fib.next()();
}